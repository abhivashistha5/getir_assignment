# Getir Assigment

![Getir logo](https://getir.uk/_next/image/?url=https%3A%2F%2Flanding-strapi-images-development.s3.eu-west-1.amazonaws.com%2Fgetir_groceries_34ddbc9659.svg&w=3840&q=75) 


![nodejs](https://img.shields.io/badge/nodejs-%3E%3D16.14.0-brightgreen)
![npm](https://img.shields.io/badge/npm-8.3.1-blue)


Getir Backend Challange

It uses airbnb code style and `jest` for test runner.

# Build
For creating a clean build run
```
npm run clean
npm run build
```

# Deployment
- Create a .env file from .env.example and add environment-specific variables in `NAME=VALUE` format.
- Run `npm install`

For Production
- Build the project using `npm run build`
- Start server using `npm run start`


For local development
- Run `npm run dev` for running nodemon
- Run `npm run lint` to perform lint analysis

# Test
- Run `npm run test` for running tests
- Run `npm run test:cov` for running test and generating coverage report
- Run `npm run test:watch` for running test in watch mode while developing

# Documentation
Api documentation can be found under `apidoc` directory. Documentation is autogenerated using apidocjs. To generate/update api documentation run 
```
npm run doc
```

# Directory structure

## `src`

It contains all the source code for the project

### `src/route/`

It contains all the api endpoints in seperate modules.<br>

#### `src/route/<moduleName>/<moduleName>.controller.js`

It is the API controller file. It applies router middlewares and api validation.

#### `src/route/<moduleName>/<moduleName>.validation.js`

It contains the validations for the apis.

#### `src/route/<moduleName>/<moduleName>.service.js`

It contains the module business logic.

#### `src/route/<moduleName>/<modelName>.repository.js`

It contains logic for the data source interactions.

#### `src/route/<moduleName>/<modelName>.model.js`

It defines the Mongoose schema and model for the API endpoint. Any changes to the data model should be done here.

### `src/common/`

It contains the common messages and constants.

#### `src/common/error.js`

All the custom error classes are defined here.

#### `src/common/responseMessage.js`

All the response messages are defined here.

#### `src/common/statusCode.js`

All the response status codes are defined here.

### `src/lib/`

It contains the common libraries such as logger and utility.

### `src/middleware/`

All the middlewares that can be used are defined here.

## `test`

It contains the test cases in similar directory structure as `src`

## `apidoc`

Autogenrated api documentation using apidocjs

